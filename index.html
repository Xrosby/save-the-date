<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Save the Date</title>
    <!-- Include Oridomi library -->
    <script src="https://oridomi.com/oridomi.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>



    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Afacad:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">


</head>

<body>
    <div id="container">
        <div class="card">
            <div id="save-the-date-container" style="display:flex">
                <h1 id="save-header-save">SAVE</h1>
                <h1 id="save-header-the">the</h1>
                <h1 id="save-header-date">DATE</h1>
            </div>
            <div id="balloon" style="height:5rem; width: 5rem">
                <img style="height:100%;width:100%;" src="hot-air-balloon-21225.png" />
            </div>
            <div id="cloud1" style="height: 3rem; width: 5rem">
                <img style="height:100%;width:100%;" src="cloud.png" />
            </div>
            <div id="cloud2" style="height:4rem; width: 6rem">
                <img style="height:100%;width:100%;" src="cloud.png" />
            </div>
            <div id="cloud3" style="height:6rem; width: 8rem">
                <img style="height:100%;width:100%;" src="cloud.png" />
            </div>
            <div>
                <div id="date">
                    <span style="z-index: 105;border-bottom:1px solid black; margin-bottom: 10px;">17</span>

                    <span style="z-index: 105;border-bottom:1px solid black; margin-bottom: 10px;">08</span>

                    <span style="z-index: 105;">24</span>

                </div>
                <div id="names" style="display:flex">
                    <span style="z-index: 105;">Mads</span>
                    <div class="ring-container">
                        <div style="z-index: 105;" class="ring"></div>
                        <div style="z-index: 105;" class="ring2"></div>
                    </div>
                    <span style="z-index: 105;">Nica</span>
                </div>

            </div>
            <div id="formal-invitation">
                <span style="z-index: 105;">Castello di San Basilio, Pisticci</span>
                <span id="message" style="z-index: 105;font-size: 0.5rem;margin-top:1rem"></span>
            </div>

            <div id="hills">
                <img style="height:100%;width:100%" src="hills.png" />
            </div>

        </div>

    </div>

    <script>
        function floatAnimation(top) {
            // Animate the balloon's top and left properties with a bobbing effect
            $('#balloon').animate({
                top: top,
                left: window.innerWidth - 100
            }, {
                duration: 20000,
                easing: 'swing',
                step: function (now, fx) {
                    // Add a sinusoidal bobbing effect to the top property
                    if (fx.prop === 'top') {
                        $(this).css('top', top + 10 * Math.sin(now / 100));
                    }
                },
                complete: function () {
                    // Animation complete, reverse direction
                    // Animate the balloon to the left and slightly down
                    $('#balloon').animate({
                        left: 0,
                        top: top + 50,
                    }, {
                        duration: 20000,
                        easing: 'swing',
                        step: function (now, fx) {
                            // Add a sinusoidal bobbing effect to the top property
                            if (fx.prop === 'top') {
                                $(this).css('top', top + 10 * Math.sin(now / 100));
                            }
                        },
                        complete: () => floatAnimation(top + 50)
                    });
                }
            });
        }

        // Start the animation with an initial top value of 100
        floatAnimation(100);



        async function getCountry() {
            let country = 'Italy';
            try {
                const response = await fetch('http://api.ipstack.com/check?access_key=aff86d7313e111cac1330a4236d5e53e');
                const data = await response.json();
                alert(data.country_name)
                country = (data?.country_name || 'Italy').toLowerCase()
            } catch (error) {
                alert(error)
                console.error('Error fetching data from ipstack API:', error);
            }

            return country;
        }

        const setFormalMessage = () => {
            const country = getCountry().then((country) => {
                const danishMessage = 'Official invitation foelger'
                const italianMessage = 'Seguira\' invito ufficiale'

                const message = country === 'italy' ? italianMessage : danishMessage;

                const formalMessageContainer = document.getElementById("message");
                formalMessageContainer.innerText = message;
            })
        }

        setFormalMessage()

    </script>
</body>

</html>